"use strict";(globalThis["webpackChunkmaghfirah"]=globalThis["webpackChunkmaghfirah"]||[]).push([[21],{7021:(a,e,l)=>{l.r(e),l.d(e,{default:()=>_e});l(9665);var t=l(9835),o=l(6970),n=l(1957);const s={class:"row col-12 justify-between"},i={class:"q-pa-lg col-xs-12 col-sm-6 col-md-4"},r={key:0},d={class:"col-12 q-mt-lg"},m=(0,t._)("div",{class:"text-bold text-h6"},"Deskripsi Paket",-1),c=["innerHTML"],p=(0,t._)("div",{class:"col-12 row text-bold q-mt-md q-px-md text-h6"}," Pilih Paket ",-1),u={class:"col-12 row q-mt-md"},g={class:"text-bold text-h6"},w={class:"col-12"},b=(0,t._)("div",{class:"text-bold text-grey q-mt-md"},"Dewasa",-1),k={class:"text-bold q-mt-xs"},h=(0,t._)("div",{class:"text-bold text-grey q-mt-md"},"Anak",-1),v={class:"text-bold q-mt-xs"},_={class:"col-12 q-mt-md"},y={class:"col-12 row q-mt-md"},q={class:"col-12"},x=(0,t._)("div",{class:"text-bold text-h6 q-mb-md"},"Detail Paket Umrah",-1),f={class:"q-mb-sm"},C={class:"col-12 row"};function D(a,e,l,D,V,W){const T=(0,t.up)("cms-paragraph"),$=(0,t.up)("t-input"),P=(0,t.up)("q-btn"),j=(0,t.up)("cms-card"),Z=(0,t.up)("q-table"),H=(0,t.up)("DataCart"),Q=(0,t.up)("q-drawer"),z=(0,t.up)("q-img"),U=(0,t.up)("q-card"),B=(0,t.up)("q-separator"),S=(0,t.up)("TransacionModal"),M=(0,t.up)("ValidatorModal"),K=(0,t.up)("SuccessModal");return null==V.id?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,o.C_)(a.$q.screen.gt.sm?"col-12 row q-mt-xl q-px-xl":"col-12 row q-mt-xl q-px-md")},[(0,t._)("div",s,[(0,t._)("div",null,[(0,t.Wm)(T,{title:a.$Handle.getContent("title-haji-umrah","Titles",!0).title,topText:a.$Handle.getContent("title-haji-umrah","Titles",!0).subtitle},null,8,["title","topText"])]),(0,t._)("div",null,[(0,t.Wm)($,{label:"Cari",rIcon:"search"})])]),(0,t._)("div",{class:(0,o.C_)(a.$q.screen.gt.sm?"col-12  q-gutter-md":"")},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(V.optionCategory,(a=>((0,t.wg)(),(0,t.j4)(P,{key:a,label:a.name,unelevated:"",style:{"box-shadow":"0px 0px 3px rgba(0, 0, 0, 0.12)"},class:(0,o.C_)(V.buttonCategory==a.name?"default-button text-bold q-px-lg":"default-button bg-white text-grey text-bold q-px-lg"),color:V.buttonCategory==a.name?"secondary":"",onClick:()=>{V.buttonCategory=a.name,W.getData()}},null,8,["label","class","color","onClick"])))),128))],2),(0,t.Wm)(Z,{"virtual-scroll":"",class:"q-my-sm col-12",rows:V.table.rows,columns:V.table.columns,"row-key":"id",pagination:V.table.pagination,"onUpdate:pagination":e[1]||(e[1]=a=>V.table.pagination=a),dense:a.$Static.table.dense(),flat:a.$Static.table.flat(),color:a.$Static.table.color(),"rows-per-page-label":a.$Static.table.rowPerPageLabel(),"rows-per-page-options":a.$Static.table.rowPerPageOption(),square:a.$Static.table.square(),bordered:a.$Static.table.bordered(),"binary-state-sort":"",onRequest:W.getData,loading:a.loading,separator:a.$Static.table.separator(),grid:""},{item:(0,t.w5)((a=>[(0,t._)("div",i,[(0,t.Wm)(j,{type:"Product",item:a.row,onBtnClick:e[0]||(e[0]=a=>{V.id=a,W.getData()})},null,8,["item"])])])),_:1},8,["rows","columns","pagination","dense","flat","color","rows-per-page-label","rows-per-page-options","square","bordered","onRequest","loading","separator"])],2)):(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,o.C_)(a.$q.screen.gt.sm?"q-px-xl":"q-px-md")},[(0,t.Wm)(P,{color:"primary",label:"Kembali",class:"q-mt-lg",unelevated:"",style:{"border-radius":"6px"},noCaps:"",size:"md",onClick:e[2]||(e[2]=()=>{V.id=null,a.$router.push({name:"paket"}),W.getData()})}),V.packageDetail?((0,t.wg)(),(0,t.iD)("div",r,[(0,t.Wm)(Q,{modelValue:V.rightDrawerOpen,"onUpdate:modelValue":e[4]||(e[4]=a=>V.rightDrawerOpen=a),bordered:"",side:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(H,{data:V.cart,onValidate:W.validateTransaction,onDeleteBtn:e[3]||(e[3]=a=>V.cart.splice(a,1))},null,8,["data","onValidate"])])),_:1},8,["modelValue"]),(0,t._)("div",{class:(0,o.C_)(a.$q.screen.gt.sm?"col-12 row justify-center relative-position     q-mt-xl":"col-12 row justify-center relative-position     q-mt-sm")},[a.$q.screen.lt.sm?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"col-12 justify-center absolute row",style:(0,o.j5)(`background-image: url('${V.packageDetail.photo.path}');  background-repeat: no-repeat;  background-size: cover;\n          filter: blur(8px);\n        `)},[(0,t.Wm)(z,{class:"col-4",src:V.packageDetail.photo.path},null,8,["src"])],4)):(0,t.kq)("",!0),(0,t.Wm)(z,{class:"col-md-4 col-12",src:V.packageDetail.photo.path},null,8,["src"]),(0,t._)("div",d,[(0,t.Wm)(T,{title:V.packageDetail.name,topText:"Jumlah Quota "+V.packageDetail.quota},null,8,["title","topText"]),(0,t.Wm)(U,{class:"q-pa-md"},{default:(0,t.w5)((()=>[m,"null"!==V.packageDetail.description?((0,t.wg)(),(0,t.iD)("div",{key:0,innerHTML:V.packageDetail.description},null,8,c)):(0,t.kq)("",!0)])),_:1}),p,(0,t._)("div",u,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(V.packageDetail.opsi_paket,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e,class:"col-md-4 col-12"},[(0,t.Wm)(U,{class:"q-pa-lg"},{default:(0,t.w5)((()=>[(0,t._)("div",g,(0,o.zw)(e.name),1),(0,t._)("div",w,[(0,t._)("div",null,[b,(0,t._)("div",k,"Rp. "+(0,o.zw)(a.$Help.transformMoney(e.parent_price)),1)]),(0,t._)("div",null,[h,(0,t._)("div",v,"Rp. "+(0,o.zw)(a.$Help.transformMoney(e.child_price)),1)]),(0,t._)("div",_,[(0,t.Wm)(P,{color:"primary",label:"Booking",class:"col-12 fit",unelevated:"",style:{"border-radius":"6px"},noCaps:"",size:"md",onClick:a=>W.setPackage(e)},null,8,["onClick"])])])])),_:2},1024)])))),128))]),(0,t._)("div",y,[(0,t._)("div",q,[(0,t.Wm)(U,{class:"q-pa-lg"},{default:(0,t.w5)((()=>[x,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(V.packageDetail.layanan_utama,(a=>((0,t.wg)(),(0,t.iD)("div",{class:"q-mb-md",key:a},[(0,t._)("div",f,(0,o.zw)(a.name),1),(0,t.Wm)(B)])))),128))])),_:1})])])])],2),(0,t.Wm)(S,{modelValue:V.modal,"onUpdate:modelValue":e[5]||(e[5]=a=>V.modal=a),packageDetail:V.packageDetail,onAddToCart:W.addToCart,opt:V.opt},null,8,["modelValue","packageDetail","onAddToCart","opt"]),(0,t.Wm)(M,{modelValue:V.utils.validator,"onUpdate:modelValue":e[8]||(e[8]=a=>V.utils.validator=a),onValidated:W.purchase},{default:(0,t.w5)((()=>[(0,t._)("div",C,[(0,t.Wm)($,{modelValue:V.model.name,"onUpdate:modelValue":e[6]||(e[6]=a=>V.model.name=a),label:"Name",col:"6"},null,8,["modelValue"]),(0,t.Wm)($,{modelValue:V.model.username,"onUpdate:modelValue":e[7]||(e[7]=a=>V.model.username=a),label:"Phone",col:"6"},null,8,["modelValue"])])])),_:1},8,["modelValue","onValidated"]),(0,t.Wm)(K,{modelValue:V.utils.success,"onUpdate:modelValue":e[9]||(e[9]=a=>V.utils.success=a)},null,8,["modelValue"])])):(0,t.kq)("",!0)],2)),[[n.F8,V.packageDetail]])}const V=(0,t._)("div",{class:"text-h6 text-bold q-mb-md"},"Booking Seat",-1),W={class:"row col-12"},T=(0,t._)("div",{class:"text-bold q-mb-xs col-12"},"Data Diri",-1),$={class:"col-12 row"},P={class:"col-12 row"},j=(0,t._)("div",{class:"text-bold q-mb-xs col-12 q-mt-md"},"Opsi Paket",-1),Z={class:"q-gutter-sm"},H={class:"col-12 row justify-start items-start"},Q={class:"col-md-6 col-12 row"},z={class:"col-12 q-my-md row items-center"},U=(0,t._)("div",{class:"text-bold"},"Layanan Domestik",-1),B={class:"col-12 row q-gutter-sm"},S={class:"col-md-6 col-12 row q-mb-sm"},M={class:"col-12 q-my-md row items-center"},K=(0,t._)("div",{class:"text-bold"},"Layanan Tambahan",-1),L={class:"col-12 row q-mt-md"},R={key:0,class:"col-md-6 col-12 row"},I={class:"col-12 q-my-md row items-center"},O=(0,t._)("div",{class:"text-bold"},"Perlengkapan",-1),Y={key:1,class:"col-md-6 col-12 row"},A={class:"col-12 q-my-md row items-center"},N=(0,t._)("div",{class:"text-bold"},"Paket Perlengkapan",-1),E={class:"q-gutter-sm row justify-center"};function J(a,e,l,o,s,i){const r=(0,t.up)("q-card-section"),d=(0,t.up)("t-input"),m=(0,t.up)("q-radio"),c=(0,t.up)("q-option-group"),p=(0,t.up)("q-btn"),u=(0,t.up)("q-checkbox"),g=(0,t.up)("q-btn-group"),w=(0,t.up)("q-card-actions"),b=(0,t.up)("q-card"),k=(0,t.up)("q-dialog"),h=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(k,{"model-value":l.modelValue,persistent:"","onUpdate:modelValue":e[7]||(e[7]=e=>a.$emit("update:modelValue",e))},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{style:{width:"700px","max-width":"80vw","border-radius":"15px"},class:"q-px-md q-pb-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[V])),_:1}),(0,t.Wm)(r,{class:"q-pt-none col-12 row"},{default:(0,t.w5)((()=>[(0,t._)("div",W,[T,(0,t.Wm)(d,{col:"6",label:"nama",modelValue:s.preCart.name,"onUpdate:modelValue":e[0]||(e[0]=a=>s.preCart.name=a)},null,8,["modelValue"]),(0,t.Wm)(d,{col:"6",label:"nomor telepon",modelValue:s.preCart.phone,"onUpdate:modelValue":e[1]||(e[1]=a=>s.preCart.phone=a)},null,8,["modelValue"])]),(0,t._)("div",$,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.$Static.genderList(),((a,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"q-gutter-sm",key:l},[(0,t.Wm)(m,{modelValue:s.preCart.gender,"onUpdate:modelValue":e[2]||(e[2]=a=>s.preCart.gender=a),val:a.val,label:a.label,color:"info"},null,8,["modelValue","val","label"])])))),128))]),(0,t._)("div",P,[j,(0,t._)("div",Z,[(0,t.Wm)(c,{options:[{label:"Dewasa",color:"info",value:JSON.stringify({type:"dewasa",price:l.opt.parent_price,name:l.opt.name})},{label:"Anak",color:"info",value:JSON.stringify({type:"anak",price:l.opt.child_price,name:l.opt.name})}],type:"radio",modelValue:s.preCart.opt,"onUpdate:modelValue":e[3]||(e[3]=a=>s.preCart.opt=a)},null,8,["options","modelValue"])])]),(0,t._)("div",H,[(0,t._)("div",Q,[(0,t._)("div",z,[U,(0,t.Wm)(p,{icon:"error_outline",size:"xs",round:"",rounded:"",flat:""})]),(0,t._)("div",B,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.packageDetail.layanan_domestik,((a,e)=>((0,t.wg)(),(0,t.j4)(p,{label:a.name,color:"info",outline:"",key:e},null,8,["label"])))),128))])]),(0,t._)("div",S,[(0,t._)("div",M,[K,(0,t.Wm)(p,{icon:"error_outline",size:"xs",round:"",rounded:"",flat:""})]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.packageDetail.layanan_tambahan,((a,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t.Wm)(u,{modelValue:s.preCart.layanan_tambahan,"onUpdate:modelValue":e[4]||(e[4]=a=>s.preCart.layanan_tambahan=a),val:a,label:a.name,color:"info"},null,8,["modelValue","val","label"])])))),128))])]),(0,t._)("div",L,[(0,t.Wm)(g,{push:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.btnOpt,((a,e)=>((0,t.wg)(),(0,t.j4)(p,{key:e,size:"sm",color:s.tabBtn===a.name?"info":"grey",glossy:"","text-color":"white",push:"",label:a.name,onClick:()=>{s.tabBtn=a.name}},null,8,["color","label","onClick"])))),128))])),_:1})]),"Perlengkapan"==s.tabBtn?((0,t.wg)(),(0,t.iD)("div",R,[(0,t._)("div",I,[O,(0,t.Wm)(p,{icon:"error_outline",size:"xs",round:"",rounded:"",flat:""})]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.packageDetail.perlengkapan,((a,l)=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t.Wm)(u,{modelValue:s.preCart.perlengkapan,"onUpdate:modelValue":e[5]||(e[5]=a=>s.preCart.perlengkapan=a),val:a,label:a.name,color:"info"},null,8,["modelValue","val","label"])])),[[n.F8,a&&a.type_2==s.preCart.gender]]))),128))])):((0,t.wg)(),(0,t.iD)("div",Y,[(0,t._)("div",A,[N,(0,t.Wm)(p,{icon:"error_outline",size:"xs",round:"",rounded:"",flat:""})]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.packageDetail.paket_perlengkapan,((a,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"q-gutter-sm",key:l},[(0,t.Wm)(m,{modelValue:s.preCart.paket_perlengkapan_id,"onUpdate:modelValue":e[6]||(e[6]=a=>s.preCart.paket_perlengkapan_id=a),val:a.layanan_id,label:a.name,color:"info"},null,8,["modelValue","val","label"])])))),128))]))])),_:1}),(0,t.Wm)(w,{align:"center",class:"bg-white text-teal"},{default:(0,t.w5)((()=>[(0,t._)("div",E,[(0,t.wy)((0,t.Wm)(p,{size:"md",label:"Batal",color:"info",outline:"",style:{width:"200px"}},null,512),[[h]]),(0,t.wy)((0,t.Wm)(p,{size:"md",label:"Tambah Paket",color:"info",style:{width:"200px"},onClick:i.addToCart},null,8,["onClick"]),[[h]])])])),_:1})])),_:1})])),_:1},8,["model-value"])}const F={props:["modelValue","packageDetail","opt"],watch:{"preCart.gender":function(a){this.preCart.perlengkapan=[]}},data(){return{selection:[],tabBtn:"Perlengkapan",btnOpt:[{name:"Perlengkapan"},{name:"Paket Perlengkapan"}],preCart:{name:null,phone:null,gender:1,layanan_tambahan:[],layanan_domestik:[],perlengkapan:[],paket_perlengkapan_id:null,opt:{}}}},methods:{addToCart(){this.preCart.opt=JSON.parse(this.preCart.opt),this.preCart.layanan_domestik=this.packageDetail.layanan_domestik;const a=Object.assign({},this.preCart);this.$emit("addToCart",a),this.preCart={name:null,phone:null,gender:1,layanan_tambahan:[],layanan_domestik:[],perlengkapan:[],paket_perlengkapan_id:null,opt:{}}}}};var G=l(1639),X=l(2074),aa=l(4458),ea=l(3190),la=l(1480),ta=l(2286),oa=l(8879),na=l(1221),sa=l(7236),ia=l(1821),ra=l(2146),da=l(9984),ma=l.n(da);const ca=(0,G.Z)(F,[["render",J]]),pa=ca;ma()(F,"components",{QDialog:X.Z,QCard:aa.Z,QCardSection:ea.Z,QRadio:la.Z,QOptionGroup:ta.Z,QBtn:oa.Z,QCheckbox:na.Z,QBtnGroup:sa.Z,QCardActions:ia.Z}),ma()(F,"directives",{ClosePopup:ra.Z});const ua=(0,t._)("div",{class:"text-h6"},"Lanjutkan Transaksi",-1),ga=(0,t._)("div",{class:"q-my-md"},[(0,t.Uk)(" Anda yakin akan melanjutkan transaksi? pastikan transaksi yang anda benar. langkah seanjutnya adalah pembayaran dp dengan pembayaran jumlah nominal. "),(0,t._)("span",{class:"text-bold"},"Rp. 5.000.000/pack"),(0,t.Uk)(". masukan name dan no telepon untuk login dan melakukan pembayaran ")],-1),wa={class:"col-12 row"},ba={class:"col-12 row justify-end q-gutter-sm q-mt-lg"};function ka(a,e,l,o,n,s){const i=(0,t.up)("q-btn"),r=(0,t.up)("q-card"),d=(0,t.up)("q-dialog"),m=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(d,{"model-value":l.modelValue,persistent:"","onUpdate:modelValue":e[1]||(e[1]=e=>a.$emit("update:modelValue",e))},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{style:{width:"700px","max-width":"80vw","border-radius":"15px","min-height":"200px"},class:"q-px-md q-pa-lg"},{default:(0,t.w5)((()=>[ua,ga,(0,t._)("div",wa,[(0,t.WI)(a.$slots,"default")]),(0,t._)("div",ba,[(0,t.wy)((0,t.Wm)(i,{label:"Batal",color:"grey"},null,512),[[m]]),(0,t.wy)((0,t.Wm)(i,{label:"Lanjutkan",color:"info",onClick:e[0]||(e[0]=e=>a.$emit("validated"))},null,512),[[m]])])])),_:3})])),_:3},8,["model-value"])}const ha={name:"ValidatorBooking",props:["modelValue"],data(){},methods:{}},va=(0,G.Z)(ha,[["render",ka]]),_a=va;ma()(ha,"components",{QDialog:X.Z,QCard:aa.Z,QBtn:oa.Z}),ma()(ha,"directives",{ClosePopup:ra.Z});const ya=(0,t._)("div",{class:"text-h6 text-primary"},"Pemesanan Berhasil",-1),qa=(0,t._)("div",{class:"q-my-md"}," selamat Anda telah memesan paket layanan Maghfirah Travel, silahkan login untuk melakukan pembayaran online selanjutny ",-1),xa={class:"col-12 row"},fa={class:"col-12 row justify-end q-gutter-sm q-mt-lg"};function Ca(a,e,l,o,n,s){const i=(0,t.up)("q-btn"),r=(0,t.up)("q-card"),d=(0,t.up)("q-dialog"),m=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(d,{"model-value":l.modelValue,persistent:"","onUpdate:modelValue":e[1]||(e[1]=e=>a.$emit("update:modelValue",e))},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{style:{width:"700px","max-width":"80vw","border-radius":"15px","min-height":"200px"},class:"q-px-md q-pa-lg"},{default:(0,t.w5)((()=>[ya,qa,(0,t._)("div",xa,[(0,t.WI)(a.$slots,"default")]),(0,t._)("div",fa,[(0,t.wy)((0,t.Wm)(i,{label:"Terima",color:"info",onClick:e[0]||(e[0]=e=>a.$emit("validated"))},null,512),[[m]])])])),_:3})])),_:3},8,["model-value"])}const Da={name:"SuccessBooking",props:["modelValue"],data(){},methods:{}},Va=(0,G.Z)(Da,[["render",Ca]]),Wa=Va;ma()(Da,"components",{QDialog:X.Z,QCard:aa.Z,QBtn:oa.Z}),ma()(Da,"directives",{ClosePopup:ra.Z});const Ta={class:"col-12 row q-pa-md row"},$a={class:"row"},Pa=(0,t._)("div",{class:"text-bold"},"Detail Pesanan",-1),ja={key:0},Za={key:1},Ha={class:"row justify-between text-center col-12"},Qa={class:"text-bold text-start q-pl-md"},za={class:"q-mt-md col-12 row q-px-md"},Ua={class:"row justify-between text-center col-12"},Ba=(0,t._)("div",{class:"text-start"},"Nomor Tlp",-1),Sa={class:"text-bold text-start"},Ma={class:"col-12"},Ka=(0,t._)("div",{class:"q-my-sm"},"Biaya Paket :",-1),La={class:"q-pl-sm row justify-between text-weight-thin q-my-xs"},Ra={class:"col-12"},Ia=(0,t._)("div",{class:"q-my-sm"},"Biaya Domestik :",-1),Oa={class:"col-12"},Ya=(0,t._)("div",{class:"q-my-sm"},"Layanan Tambahan :",-1),Aa={class:"col-12"},Na=(0,t._)("div",{class:"q-my-sm"},"Biaya Domestik Perlengkapan :",-1),Ea={class:"q-pl-sm row justify-between text-weight-thin q-my-xs"},Ja=(0,t._)("div",null,"Total Perlengkapan",-1),Fa={class:"col-12 row justify-end q-mt-md"},Ga={class:"col-12 row"},Xa={class:"absolute-bottom q-mb-xl"},ae=(0,t._)("div",{class:"col-12 q-mt-md q-px-md"},"Total Pembayaran",-1),ee={class:"col-12 text-h6 q-px-md"},le={class:"col-12 row absolute-bottom q-mb-md"},te={class:"col-6 row q-px-sm"},oe={class:"col-6 row q-px-sm"};function ne(a,e,l,s,i,r){const d=(0,t.up)("q-btn"),m=(0,t.up)("q-expansion-item"),c=(0,t.up)("q-card"),p=(0,t.up)("q-list"),u=(0,t.up)("q-scroll-area");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(u,{style:{height:"calc(100vh - 130px)"}},{default:(0,t.w5)((()=>[(0,t._)("div",Ta,[(0,t._)("div",$a,[Pa,l.data.length>0?((0,t.wg)(),(0,t.iD)("div",ja,"Berikut ini merupakan detail pesanan anda :")):((0,t.wg)(),(0,t.iD)("div",Za," Anda belum memiliki pesanan, silahkan pilih paket terlebih dahulu ")),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.data,((e,s)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(p,{class:"col-12 q-mb-sm",key:s},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{flat:"",bordered:"",class:"q-px-sm col-12 row"},{default:(0,t.w5)((()=>[(0,t.Uk)("Â  "),(0,t._)("div",Ha,[(0,t._)("div",Qa," Rp "+(0,o.zw)(a.$Help.transformMoney(r.sumTotalPersonTransaction(e))),1)]),(0,t.Wm)(m,{label:e.name,caption:e.opt.name+" "+e.opt.type,dense:"",class:"q-mb-md col-12"},{default:(0,t.w5)((()=>[(0,t._)("div",za,[(0,t._)("div",Ua,[Ba,(0,t._)("div",Sa,(0,o.zw)(e.phone),1)]),(0,t._)("div",Ma,[Ka,(0,t._)("div",La,[(0,t._)("div",null,"Paket "+(0,o.zw)(e.opt.name)+" ("+(0,o.zw)(e.opt.type)+")",1),(0,t._)("div",null,"Rp "+(0,o.zw)(a.$Help.transformMoney(e.opt.price)),1)])]),(0,t._)("div",Ra,[Ia,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.layanan_domestik,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"q-pl-sm row justify-between text-weight-thin q-my-xs",key:l},[(0,t._)("div",null,(0,o.zw)(e.name),1),(0,t._)("div",null,"Rp "+(0,o.zw)(a.$Help.transformMoney(e.price)),1)])))),128))]),(0,t._)("div",Oa,[Ya,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.layanan_tambahan,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"q-pl-sm row justify-between text-weight-thin q-my-xs",key:l},[(0,t._)("div",null,(0,o.zw)(e.name),1),(0,t._)("div",null,"Rp "+(0,o.zw)(a.$Help.transformMoney(e.price)),1)])))),128))]),(0,t._)("div",Aa,[Na,(0,t._)("div",Ea,[Ja,(0,t._)("div",null,"Rp. "+(0,o.zw)(a.$Help.transformMoney(r.sumPerlengkapan(e))),1)])]),(0,t._)("div",Fa,[(0,t.Wm)(d,{color:"negative",icon:"delete",size:"sm",outline:"",onClick:e=>a.$emit("deleteBtn",s)},null,8,["onClick"])])])])),_:2},1032,["label","caption"])])),_:2},1024)])),_:2},1024)),[[n.F8,l.data]]))),128))])])])),_:1}),(0,t._)("div",Ga,[(0,t._)("div",Xa,[ae,(0,t._)("div",ee," Rp. "+(0,o.zw)(a.$Help.transformMoney(r.sumTotalTransactions(l.data))),1)]),(0,t._)("div",le,[(0,t._)("div",te,[(0,t.Wm)(d,{size:"sm",class:"q-mx-sm col-12",color:"info",label:"Hubungi Admin",outline:""})]),(0,t._)("div",oe,[(0,t.Wm)(d,{size:"sm",class:"q-mx-sm col-12",color:l.data.length>0?"info":"grey",label:"Pesan Sekarang",onClick:e[0]||(e[0]=a=>r.validateTransaction())},null,8,["color"])])])])])}const se={name:"DataCart",props:["data"],async created(){},methods:{sumPerlengkapan(a){let e=0;return a.perlengkapan.forEach((a=>{e+=parseInt(a.default_item.selling_price)})),e},sumLayanan(a,e){let l=0;return a[e].forEach((a=>{l+=parseInt(a.price)})),l},sumTotalPersonTransaction(a){let e=parseInt(a.opt.price),l=parseInt(this.sumLayanan(a,"layanan_domestik")),t=parseInt(this.sumLayanan(a,"layanan_tambahan")),o=parseInt(this.sumPerlengkapan(a)),n=0;return n+=l,n+=t,n+=o,n+=e,n},sumTotalTransactions(a){if(a){let e=0;return a.forEach((a=>{e+=this.sumTotalPersonTransaction(a)})),e}},validateTransaction(){this.data.length<=0?this.$Handle.errorMessage("Tambah Keranjang Terlebih Dahulu","positive"):this.$emit("validate")}}};var ie=l(6663),re=l(3246),de=l(1123);const me=(0,G.Z)(se,[["render",ne]]),ce=me;ma()(se,"components",{QScrollArea:ie.Z,QList:re.Z,QCard:aa.Z,QExpansionItem:de.Z,QBtn:oa.Z});var pe=l(9981),ue=l.n(pe);const ge={name:"IndexHome",components:{TransacionModal:pa,DataCart:ce,ValidatorModal:_a,SuccessModal:Wa},created(){this.$route.query.id&&(this.id=this.$route.query.id),this.getData()},data(){return{buttonCategory:"Haji",optionCategory:[{name:"Haji"},{name:"Umrah"}],packages:[],slide:1,autoplay:!0,table:{columns:[{name:"name",label:"name",field:"name"},{name:"quota",label:"quota",field:"quota"}],rows:[],pagination:[]},id:null,packageDetail:null,rightDrawerOpen:!0,modal:!1,opt:null,utils:{opt:null,validator:!1,success:!1},cart:[],model:{name:null,username:null},axios:ue()}},methods:{getData(){let a="public/packages?table=&";null!=this.id?a+="&where=id:"+this.id:a+="like=Category-name:"+this.buttonCategory,this.$api.get(this.$System.apiUms()+a,((a,e,l,t)=>{200==e&&(this.packages=a.data,this.table.rows=a.data,this.id&&(this.packageDetail=a.data[0]??null))}),(a=>{}),!0)},setPackage(a){this.opt=a,this.modal=!0},addToCart(a){this.cart.push(a)},validateTransaction(){this.utils.validator=!0},purchase(){this.$Handle.loadingStart();let a=this.model,e=this.$System.apiUms();e+="common/register",this.$api.post(e,a,((a,e)=>{let l={user_id:a.users.id,package_id:this.id,transactions:this.cart};const t=ue().create({baseURL:this.$System.apiUms()});t.defaults.headers.common["Authorization"]="Bearer "+a.access_token,t.defaults.headers.post["Content-Type"]="application/json",t.defaults.timeout=1e4,t.post("/booking-packages",l).then((a=>{this.utils.success=!0,this.$Handle.loadingStop()}))}),(a=>!1),!0)}}};var we=l(1227),be=l(906),ke=l(335),he=l(926);const ve=(0,G.Z)(ge,[["render",D]]),_e=ve;ma()(ge,"components",{QBtn:oa.Z,QTable:we.Z,QDrawer:be.Z,QImg:ke.Z,QCard:aa.Z,QSeparator:he.Z})}}]);